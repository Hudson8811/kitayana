"use strict";document.addEventListener("DOMContentLoaded",function(){function o(t,o){t.classList.contains("open")?o.style.maxHeight=o.scrollHeight+"px":o.style.maxHeight=null,t.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("open"),t.classList.contains("open")?o.style.maxHeight=o.scrollHeight+"px":o.style.maxHeight=null})}ymaps.ready(function(){new ymaps.Map("map",{center:[55.76,37.64],zoom:7}),new ymaps.Map("map-shops",s),new ymaps.Map("map-modal",s),new ymaps.Map("map-modal-mob",s),new ymaps.Map("map-modal-shop",s),new ymaps.Map("map-modal-stock",s),new ymaps.Map("filter-map-modal",s)});var e=document.querySelectorAll(".accordion"),t=document.querySelectorAll(".filters__box");e.forEach(function(e){var t=e.querySelector(".accordion__content");o(e,t)}),t.forEach(function(e){var t=e.closest(".filters__item").querySelector(".filters__content");o(e,t)}),new Swiper(".swiper-spares",{direction:"horizontal",slidesPerView:"auto",breakpoints:{320:{spaceBetween:16},576:{spaceBetween:40}}}),new Swiper(".car-service-slider",{direction:"horizontal",slidesPerView:"auto",spaceBetween:16});var s={center:[55.76,37.64],zoom:7};window.addEventListener("scroll",function(){140<this.pageYOffset?document.querySelector(".header").classList.add("fixed"):document.querySelector(".header").classList.remove("fixed")}),$(".js-range-slider").ionRangeSlider({type:"double",min:0,max:1e3,from:0,to:500,hide_min_max:!0,hide_from_to:!0,onChange:function(e){$(".jsPriceFrom").val(e.from),$(".jsPriceTo").val(e.to)}});var c=document.querySelectorAll(".dropdown"),n=document.querySelector(".jsExpertButton"),r=document.querySelector(".jsExpertDropdown"),l=document.querySelector(".jsAuthButton"),a=document.querySelector(".jsButtonCars"),i=document.querySelector(".jsButtonFavourite"),d=document.querySelector(".jsBasketButton"),u=document.querySelector("body"),m=document.querySelector(".overlay");document.querySelector(".state-form .dropdown__close").addEventListener("click",function(){u.classList.remove("overflow-hidden"),m.classList.remove("open"),document.querySelector("#stateForm").classList.remove("open")}),document.querySelectorAll("[data-popup]").forEach(t=>{t.addEventListener("click",function(e){e.preventDefault(),document.querySelector(".modal.open")?.classList.remove("open");e=t.getAttribute("data-popup");document.querySelector("#"+e).classList.add("open"),u.classList.add("overflow-hidden"),m.classList.add("open")})}),document.querySelectorAll("[data-dropdown]").forEach(t=>{t.addEventListener("click",function(e){e.preventDefault(),document.querySelector(".dropdown.open")?.classList.remove("open");e=t.getAttribute("data-dropdown");document.querySelector("#"+e).classList.add("open"),u.classList.add("overflow-hidden"),m.classList.add("open")})}),document.querySelectorAll(".jsButtonCloseModal").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),u.classList.remove("overflow-hidden");e=document.querySelectorAll(".modal");m.classList.remove("open"),e.forEach(function(e){e.classList.remove("open")})})}),document.querySelectorAll(".jsBtnCloseDropdown").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),u.classList.remove("overflow-hidden");e=document.querySelectorAll(".dropdown");m.classList.remove("open"),e.forEach(function(e){e.classList.remove("open")})})}),991<=window.screen.width?document.querySelectorAll(".main-menu__col").forEach(e=>{e.onmouseover=function(e){e.target.classList.contains("main-menu__col")&&(document.querySelectorAll(".main-menu__col.active").forEach(e=>{e.classList.remove("active")}),e.target.classList.add("active"))}}):document.querySelector(".main-menu__col.active").remove("active"),768<=window.screen.width&&(n.onmouseover=function(){r.classList.add("open")},r.onmouseover=function(){r.classList.add("open")},r.onmouseout=function(){r.classList.remove("open")}),document.querySelector(".jsCloseFilter").addEventListener("click",function(e){u.classList.remove("overflow-hidden"),document.querySelector(".jsFilters").classList.remove("open")}),document.querySelector(".jsBtnFilter").addEventListener("click",function(e){e.preventDefault(),u.classList.add("overflow-hidden"),document.querySelector(".jsFilters").classList.add("open")});var v=document.querySelector(".jsMainMenu");document.querySelectorAll(".jsMenuButton").forEach(function(e){e.addEventListener("click",function(e){u.classList.toggle("menu-opened"),e.preventDefault(),c.forEach(function(e){e.classList.remove("open")}),u.classList.remove("overflow-hidden"),l?.classList.remove("active"),n?.classList.remove("active"),a?.classList.remove("active"),i.classList.remove("active"),d.classList.remove("active"),v.classList.toggle("open"),v.classList.contains("open")?(this.classList.remove("--svg__menu"),this.classList.add("--svg__menu_close"),u.classList.add("overflow-hidden")):(this.classList.add("--svg__menu"),this.classList.remove("--svg__menu_close"),u.classList.remove("overflow-hidden"))})});var p=0,e=document.querySelectorAll(".counter__icon.plus"),t=document.querySelectorAll(".counter__icon.minus");e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),p++,this.previousElementSibling.value=p})}),t.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();e=this.nextElementSibling;0<p&&(p--,e.value=p)})}),document.querySelectorAll(".jsAddItemCart").forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),t.nextElementSibling.classList.add("show")})}),document.querySelectorAll(".jsToggleTypeButton").forEach(function(e){e.addEventListener("click",function(e){console.log("test1332"),e.preventDefault();var t=this.querySelector(".modal__type-icon"),o=this.querySelector("span"),s=this.closest(".modal__content").querySelector(".modal__type-wrapper--content"),e=this.closest(".modal__content").querySelector(".modal__type-wrapper--map");t.classList.contains("--svg__list")?(t.classList.remove("--svg__list"),t.classList.add("--svg__pin"),o.textContent="На карте",s.classList.remove("active"),e.classList.add("active")):(t.classList.remove("--svg__pin"),t.classList.add("--svg__list"),o.textContent="списком",e.classList.remove("active"),s.classList.add("active"))})}),document.querySelectorAll(".dropdown--left [data-tab]").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("data-tab");let t=document?.getElementById(e);document.querySelectorAll(".dropdown--left .tabs-content .tab").forEach(e=>{e.classList.remove("open")}),document.querySelectorAll(".dropdown--left [data-tab]").forEach(e=>{e.classList.remove("active")}),t.classList.add("open"),this.classList.add("active"),console.log(t)})}),window.screen.width<=768?(document.querySelector(".header__search").addEventListener("focus",function(){document.querySelector("body").classList.add("search-open"),document.querySelector("body").classList.add("overflow-hidden")}),document.querySelector(".header__search-close").addEventListener("click",function(){document.querySelector("body").classList.remove("search-open"),document.querySelector("body").classList.remove("overflow-hidden")})):(document.querySelector(".header__search").addEventListener("focus",function(){document.querySelector("body").classList.add("search-open"),document.querySelector("body").classList.add("overflow-hidden")}),document.querySelector(".header__search").addEventListener("blur",function(){document.querySelector("body").classList.remove("search-open"),document.querySelector("body").classList.remove("overflow-hidden")})),document.querySelectorAll(".form-validate").forEach(s=>{s.addEventListener("submit",e=>{e.preventDefault();let t=s.querySelectorAll("input"),o=!1;if(document.querySelectorAll(".input-error").forEach(e=>e.remove()),document.querySelectorAll(".invalid").forEach(e=>e.classList.remove("invalid")),t.forEach(e=>{e.hasAttribute("data-required")&&e.value.length<3&&!e.classList.contains("checkbox__input")?(o=!0,e.insertAdjacentHTML("afterend",'<p class="input-error">Обязательное поле</p>'),e.classList.add("invalid")):e.classList.contains("checkbox__input")&&!e.checked&&(o=!0,e.closest(".checkbox").classList.add("invalid"))}),o)return!1;document.querySelectorAll(".input-error").forEach(e=>e.remove()),document.querySelectorAll(".invalid").forEach(e=>e.classList.remove("invalid")),function(e,t){let o=document.querySelector("#stateForm"),s=document.querySelector("#stateForm .state-title"),c=document.querySelector("#stateForm .state-text");s.textContent=e,c.textContent=t,o.classList.add("open"),u.classList.add("overflow-hidden"),m.classList.add("open")}("Регистрация прошла успешно","Теперь вы можете добавить свой автомобиль и найти любые автозапчасти в 3 клика")})}),document.querySelectorAll(".form-validate button").forEach(e=>{e.classList.contains("dropdown__close")&&e.classList.contains("--svg__eye_close")||e.addEventListener("click",function(){e.closest(".form-validate")})})});